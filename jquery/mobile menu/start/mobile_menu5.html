<!DOCTYPE html>
<html lang="ko">

<head>
	<title>basic :: Mobile Menu</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;700&display=swap">
	<style>
		body,
		h1,
		h2,
		h3,
		h4,
		h5,
		h6,
		p,
		ul,
		ol,
		table,
		dl,
		dd {
			margin: 0;
			padding: 0;
		}

		h1 {
			font-size: 16px;
		}

		a {
			text-decoration: none;
			color: #000;
		}

		ul,
		ol {
			list-style: none;
		}

		img {
			max-width: 100%;
			vertical-align: top;
			border: none;
		}

		body {
			font-family: "Open Sans", sans-serif;
			font-size: 1em;
			height: 2000px;
		}

		body.fixed {
			overflow-y: hidden;
		}

		#header {
			position: fixed;
			/* modified */
			left: 0;
			/* added */
			top: 0;
			/* added */
			width: 100%;
			/* added */
			height: 3.75em;
			font-size: 1em;
			background-color: #24bbaf;
			transition: top 0.8s ease-out;
		}

		#header.fixed {
			/* added */
			position: fixed;
		}

		#desktop {
			text-align: center;
		}

		#desktop li {
			display: inline-block;
		}

		#desktop li a {
			display: block;
			padding: 0 1.875em;
			line-height: 4.286em;
			font-size: 0.875em;
			color: #fff;
		}

		#mobile {
			display: none;
			position: fixed;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			z-index: 1000;
			padding: 6.25em 3.125em 3.125em 3.125em;
			height: 100vh;
			text-align: center;
			background-color: rgba(0, 0, 0, .6);
			box-sizing: border-box;
		}

		#mobile ul {
			height: 66vh;
			overflow-y: auto;
		}

		#mobile li a {
			display: block;
			line-height: 4.5;
			font-size: 1.063em;
			color: #fff;
			border-bottom: 1px solid rgba(0, 0, 0, .2);
		}

		#mobile li:last-child a {
			border-bottom: none;
		}

		#header .tab {
			/* modified */
			display: none;
			position: absolute;
			left: 0.625em;
			top: 0.625em;
			z-index: 1000;
			width: 2.5em;
			height: 2.5em;
			overflow: hidden;
			text-indent: -9999px;
			background: url(images/toggle_button.png) no-repeat 0 0;
			background-size: cover;
			transition: left 0.4s;
		}

		#header .tab.open {
			/* modified */
			background-position: -2.5em 0;
		}

		@media only screen and (max-width: 600px) {
			#header {
				font-size: 0.875em;
			}

			#desktop {
				display: none;
			}

			#header .tab {
				display: block;
			}
		}
	</style>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script>
		$(function () {
			$(".tab").click(function (e) {
				e.preventDefault();

				$("body").toggleClass("fixed")
				$("#mobile").fadeToggle(300); //show,hide
				$(".tab").toggleClass("open")
			});
			$(window).resize(function () {
				if (window.innerWidth > 600) {
					if ($(".tab").hasClass("open")) {

						$("body").removeClass("fixed")
						$("#mobile").fadeOut(0); //show,hide
						$(".tab").removeClass("open")

					}
				}
			});

			let t = 0; //스크롤 위치 정보
			let prev = 0; //이전 스크롤 위치 정보
			let next = 0;  //현재 스크롤 위치 정보
			let direction = ""; //down up을 가지는 문자 변수

			$(window).scroll(function () {
				//console.log($(window).scrollTop(), window.scrollY); jquery,javascript 방식 두개가 같다
				t = $(window).scrollTop();
				if (t > window.innerHeight) {
					// console.log("첫 페이지를 벗어났습니다");

					next = t; //현재 위치 업데이트

					if (next > prev) { //아래로 스크롤


						if (direction != "down") {//한번만 처리
							direction = "down";

							console.log(direction);
							$("#header").css({ top: "-100%" });
						}

					}
					else {
						if (direction != "up") {
							direction = "up";

							console.log(direction);
							$("#header").css({ top: 0 });
						};
					}

					prev = next;//결과 처리 후 이전위치도 업데이트
				}
			});
		});
	</script>
</head>

<body>
	<div class="wrapper">
		<header id="header">
			<nav id="desktop">
				<ul>
					<li><a href="">MENU1</a></li>
					<li><a href="">MENU2</a></li>
					<li><a href="">MENU3</a></li>
					<li><a href="">MENU4</a></li>
					<li><a href="">MENU5</a></li>
				</ul>
			</nav>
			<nav id="mobile">
				<ul>
					<li><a href="">MENU1</a></li>
					<li><a href="">MENU2</a></li>
					<li><a href="">MENU3</a></li>
					<li><a href="">MENU4</a></li>
					<li><a href="">MENU5</a></li>
				</ul>
			</nav>
			<a href="" class="tab">tab</a><!-- modified -->
		</header>
	</div>
</body>

</html>